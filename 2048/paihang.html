<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
	</head>
	<style type="text/css">
		body{background: #2369B6;}
		h3{color: #FFFFFF;text-align: center;margin: 20px auto;}
		ul,li{margin: 0;padding: 0;list-style: none;}
		li{padding: 10px;color: #fff;font-size: 0.7em;}
		.score{display: inline-block;margin-right: 15px;}
		li:first-child{font-size: 1em;color: red;}
		li:nth-child(2){font-size: 0.9em;color: yellow;}
		li:nth-child(3){font-size: 0.8em;color: lawngreen;}
	</style>
	<body>
		<h3>排行榜</h3>
		<ul>
			<!--<li class="first"><span class="num">1</span>.<span class="score">600</span><span class='time'>2016-10-17</span></li>
			<li class="second"><span class="num">1</span>.<span class="score">600</span><span class='time'>2016-10-17</span></li>
			<li class="third"><span class="num">1</span>.<span class="score">600</span><span class='time'>2016-10-17</span></li>
			<li><span class="num">1</span>.<span class="score">600</span><span class='time'>2016-10-17</span></li>-->
		</ul>
		<script src="js/mui.min.js"></script>
		<script src="js/zepto_1.1.3.js" type="text/javascript">
			
		</script>
		<script type="text/javascript">
			mui.init()
			function makeScore(){
//				获取本地存储里的分数数据
				var sarr=localStorage.gameDate?JSON.parse(localStorage.gameDate):[];
				if(!sarr.length){return;}
				
				var t;
				for (var i=0;i<sarr.length;i++) {
					for (var j=0;j<sarr.length;j++) {
						if(sarr[j].score<sarr[i].score){
							t=sarr[i];
							sarr[i]=sarr[j];
							sarr[j]=t;
						}
					}
				}
				var str="";
				for (var i=0;i<10;i++) {
					if(sarr[i]){
						str+='<li><span class="num">'+(i+1)+'</span>.<span class="score">'+sarr[i].score+'</span><span class="time">'+sarr[i].time+'</span></li>'
					}
				}
				$("ul").html(str);
				
			}
			makeScore();
//			绑定一个重新计算排行榜的事件，为了游戏界面结束游戏后更新分数之后能在本界面显示最新的排行榜
			window.addEventListener("makeScore",makeScore);
			
		</script>
	</body>

</html>